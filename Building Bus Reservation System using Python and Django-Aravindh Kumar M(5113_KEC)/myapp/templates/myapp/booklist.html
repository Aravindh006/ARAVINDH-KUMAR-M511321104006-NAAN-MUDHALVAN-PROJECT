{% extends 'myapp/base.html' %} {% block content %}
<div class="container my-5">
  {% for message in messages %} {% if message.tags %}
  <div class="alert alert-{{ message.tags }}">{{ message }}</div>
  {% endif %} {% endfor %}
  <div
    class="card rounded-0"
    style="
      background-color: rgba(0, 0, 0, 0.5);
      box-shadow: inset -5px -5px rgba(0, 0, 0, 0.5);
      padding: 10px;
      margin: auto;
      margin-top: 50px;
    "
  >
    <div
      class="card-header"
      style="
        padding: opx;
        color: rgb(241, 238, 238);
        font-size: 2rem;
        border-bottom: 4px solid rgba(255, 255, 255, 0.5);
      "
    >
      <div class="card-title h3 mb-0 text-center text-light">
        List of Bookings
      </div>
    </div>
    <div class="card-body">
      <div class="container-fluid">
        <table class="table table-bordered table-striped">
          <thead>
            <tr class="bg-gradient bg-primary text-light">
              <th class="p-1 text-center">BOOKING ID</th>
              <th class="p-1 text-center">USER NAME</th>
              <th class="p-1 text-center">BUS NAME</th>
              <th class="p-1 text-center">SOURCE</th>
              <th class="p-1 text-center">DESTINATION</th>
              <th class="p-1 text-center">NUM OF SEATS</th>
              <th class="p-1 text-center">PRICE</th>
              <th class="p-1 text-center">DATE</th>
              <th class="p-1 text-center">TIME</th>
              <th class="p-1 text-center">STATUS</th>
            </tr>
          </thead>

          {% for row in book_list %}
          <tr>
            <td class="px-2 py-1 align-middle" style="color: white">
              {{row.id}}
            </td>
            <td class="px-2 py-1 align-middle" style="color: white">
              {{row.name}}
            </td>
            <td class="px-2 py-1 align-middle" style="color: white">
              {{row.bus_name}}
            </td>
            <td class="px-2 py-1 align-middle" style="color: white">
              {{row.source}}
            </td>
            <td class="px-2 py-1 align-middle" style="color: white">
              {{row.dest}}
            </td>
            <td class="px-2 py-1 align-middle" style="color: white">
              {{row.nos}}
            </td>
            <td class="px-2 py-1 align-middle" style="color: white">
              {{row.price}}
            </td>
            <td class="px-2 py-1 align-middle" style="color: white">
              {{row.date}}
            </td>
            <td class="px-2 py-1 align-middle" style="color: white">
              {{row.time}}
            </td>
            <td class="px-2 py-1 align-middle" style="color: white">
              {{row.status}}
            </td>
          </tr>
          {% endfor %}
        </table>
      </div>
    </div>
  </div>
  <div class="row mt-3 justify-content-center">
    <div class="col-lg-5 col-md-7 col-sm-10 col-xs-12">
      <div
        class="card rounded-0"
        style="
          background-color: rgba(0, 0, 0, 0.5);
          box-shadow: inset -5px -5px rgba(0, 0, 0, 0.5);
          padding: 10px;
          margin: auto;
          margin-top: 20px;
        "
      >
        <div
          class="card-header"
          style="
            padding: opx;
            color: rgb(241, 238, 238);
            font-size: 2rem;
            border-bottom: 4px solid rgba(255, 255, 255, 0.5);
          "
        >
          <div class="card-title h3 mb-0 text-center">Cancell Booking Form</div>
        </div>
        <div class="card-body">
          <div class="container-fluid">
            <form
              action="{% url 'cancellings' %}"
              method="post"
              id="cancel-form"
            >
              {% csrf_token %}
              <div class="mb-3" style="color: white">
                <label for="bus_id" class="control-label">Booking ID</label>
                <input
                  name="bus_id"
                  class="form-control"
                  type="number"
                  id="bus_id"
                />
              </div>
              {% if error %}
              <div class="alert alert-danger">{{error}}</div>
              {% endif %}
            </form>
          </div>
        </div>
        <div class="card-footer text-center">
          <button
            class="btn btn-sm rounded-0 btn-danger w-100"
            form="cancel-form"
            style="background-color: red"
          >
            Cancel Booking
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
